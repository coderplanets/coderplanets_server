content =
  // people
  "<div class=\"article-viewer-wrapper\"><div id=\"Lbkab\" class=\"people-wrapper\">\n        <div class=\"gallery-wrapper\">\n          <div class=\"gallery-previewer-wrapper\">\n        <div class=\"gallery-previewer-item gallery-previewer-item-active\" data-index=\"BWLiC\">\n        <img src=\"https://rmt.dogedoge.com/fetch/~/source/unsplash/photo-1557555187-23d685287bc3?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1000&amp;q=80\" />\n      </div><div class=\"gallery-previewer-item \" data-index=\"aDwpJ\">\n        <img src=\"https://rmt.dogedoge.com/fetch/~/source/unsplash/photo-1557555187-23d685287bc3?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1000&amp;q=80\" />\n      </div>\n      </div>\n    \n          <div class=\"gallery-card-wrapper\" data-index=\"BWLiC\">\n         <div class=\"gallery-avatar\">\n           <img src=\"https://rmt.dogedoge.com/fetch/~/source/unsplash/photo-1557555187-23d685287bc3?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1000&amp;q=80\" />\n         </div>\n         <div class=\"gallery-intro\">\n          <div class=\"gallery-intro-title\">\n            title\n          </div>\n          <div class=\"gallery-intro-bio\">\n            this is a X man\n          </div>\n          <div class=\"gallery-intro-desc\">\n            hello world i am x man\n          </div>\n          <div class=\"gallery-social-wrapper\">\n            <div class=\"gallery-social-icon\">\n        <a href=\"https://link\">\n          <svg>\n            <image xlink:href=\"https://cps-oss.oss-cn-shanghai.aliyuncs.com/icons/static/social/zhihu.svg\"></image>\n          </svg>\n        </a>\n      </div><div class=\"gallery-social-icon\">\n        <a href=\"https://link\">\n          <svg>\n            <image xlink:href=\"https://cps-oss.oss-cn-shanghai.aliyuncs.com/icons/static/social/twitter.svg\"></image>\n          </svg>\n        </a>\n      </div>\n          </div>\n         </div>\n      </div><div class=\"gallery-card-wrapper hide\" data-index=\"aDwpJ\">\n         <div class=\"gallery-avatar\">\n           <img src=\"https://rmt.dogedoge.com/fetch/~/source/unsplash/photo-1557555187-23d685287bc3?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1000&amp;q=80\" />\n         </div>\n         <div class=\"gallery-intro\">\n          <div class=\"gallery-intro-title\">\n            title2\n          </div>\n          <div class=\"gallery-intro-bio\">\n            this is a X man2\n          </div>\n          <div class=\"gallery-intro-desc\">\n            hello world i am x man2\n          </div>\n          <div class=\"gallery-social-wrapper\">\n            <div class=\"gallery-social-icon\">\n        <a href=\"https://link\">\n          <svg>\n            <image xlink:href=\"https://cps-oss.oss-cn-shanghai.aliyuncs.com/icons/static/social/github.svg\"></image>\n          </svg>\n        </a>\n      </div><div class=\"gallery-social-icon\">\n        <a href=\"https://link\">\n          <svg>\n            <image xlink:href=\"https://cps-oss.oss-cn-shanghai.aliyuncs.com/icons/static/social/twitter.svg\"></image>\n          </svg>\n        </a>\n      </div>\n          </div>\n         </div>\n      </div>\n        </div>\n      </div></div>"

// image
// gallery
// '<div class="article-viewer-wrapper"><div id="LGnve" class="image-wrapper">\n        <div class="gallery-image">\n          <div class="gallery-image-inner">\n          <div class="gallery-block">\n        <a href="https://images.unsplash.com/photo-1506034861661-ad49bbcf7198?ixlib=rb-1.2.1&amp;ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80" class="glightbox" data-glightbox="type:image;description: this is a caption 1">\n          <img class="gallery-block-image" src="https://images.unsplash.com/photo-1506034861661-ad49bbcf7198?ixlib=rb-1.2.1&amp;ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80" alt="image" data-index="0" />\n        </a>\n      </div><div class="gallery-block">\n        <a href="https://images.unsplash.com/photo-1614607206234-f7b56bdff6e7?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=634&amp;q=80" class="glightbox" data-glightbox="type:image;description: this is a caption 1">\n          <img class="gallery-block-image" src="https://images.unsplash.com/photo-1614607206234-f7b56bdff6e7?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=634&amp;q=80" alt="image" data-index="1" />\n        </a>\n      </div><div class="gallery-block">\n        <a href="https://images.unsplash.com/photo-1614526261139-1e5ebbd5086c?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80" class="glightbox" data-glightbox="type:image;description: this is a caption 1">\n          <img class="gallery-block-image" src="https://images.unsplash.com/photo-1614526261139-1e5ebbd5086c?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80" alt="image" data-index="2" />\n        </a>\n      </div>\n          </div>\n        </div>\n        <div class="gallery-minimap">\n        <img class="gallery-minimap-block-image" src="https://images.unsplash.com/photo-1506034861661-ad49bbcf7198?ixlib=rb-1.2.1&amp;ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80" data-index="0" /><img class="gallery-minimap-block-image" src="https://images.unsplash.com/photo-1614607206234-f7b56bdff6e7?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=634&amp;q=80" data-index="1" /><img class="gallery-minimap-block-image" src="https://images.unsplash.com/photo-1614526261139-1e5ebbd5086c?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80" data-index="2" />\n       </div>\n      </div></div>';

// jiugongge
// '<div class="article-viewer-wrapper"><div id="IFJsd" class="image-wrapper">\n      <div class="jiugongge-image">\n      <div class="jiugongge-block">\n        <a href="https://images.unsplash.com/photo-1506034861661-ad49bbcf7198?ixlib=rb-1.2.1&amp;ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80" class="glightbox" data-glightbox="type:image;description: this is a caption 1">\n          <img class="jiugongge-block-image" src="https://images.unsplash.com/photo-1506034861661-ad49bbcf7198?ixlib=rb-1.2.1&amp;ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80" alt="image" />\n        </a>\n      </div><div class="jiugongge-block">\n        <a href="https://images.unsplash.com/photo-1614607206234-f7b56bdff6e7?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=634&amp;q=80" class="glightbox" data-glightbox="type:image;description: this is a caption 1">\n          <img class="jiugongge-block-image" src="https://images.unsplash.com/photo-1614607206234-f7b56bdff6e7?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=634&amp;q=80" alt="image" />\n        </a>\n      </div><div class="jiugongge-block">\n        <a href="https://images.unsplash.com/photo-1614526261139-1e5ebbd5086c?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80" class="glightbox" data-glightbox="type:image;description: this is a caption 1">\n          <img class="jiugongge-block-image" src="https://images.unsplash.com/photo-1614526261139-1e5ebbd5086c?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80" alt="image" />\n        </a>\n      </div><div class="jiugongge-block">\n        <a href="https://images.unsplash.com/photo-1614366559478-edf9d1cc4719?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=634&amp;q=80" class="glightbox" data-glightbox="type:image;description: this is a caption 1">\n          <img class="jiugongge-block-image" src="https://images.unsplash.com/photo-1614366559478-edf9d1cc4719?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=634&amp;q=80" alt="image" />\n        </a>\n      </div><div class="jiugongge-block">\n        <a href="https://images.unsplash.com/photo-1614588108027-22a021c8d8e1?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1349&amp;q=80" class="glightbox" data-glightbox="type:image;description: this is a caption 1">\n          <img class="jiugongge-block-image" src="https://images.unsplash.com/photo-1614588108027-22a021c8d8e1?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1349&amp;q=80" alt="image" />\n        </a>\n      </div>\n      </div>\n    </div></div>';
// single image
// '<div class="article-viewer-wrapper"><div id="ncJdB" class="image-wrapper"><div class="single-image">\n        <a href="https://images.unsplash.com/photo-1506034861661-ad49bbcf7198?ixlib=rb-1.2.1&amp;ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80" class="glightbox" data-glightbox="type:image;description: this is a caption">\n          <img class="image-picture" style="width:368px; height:552px" src="https://images.unsplash.com/photo-1506034861661-ad49bbcf7198?ixlib=rb-1.2.1&amp;ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80" alt="image" />\n        </a>\n       </div><div class="image-caption">this is a caption</div></div></div>';
// quote
// '<div class="article-viewer-wrapper"><blockquote class="quote-short">\n        <div class="quote__text">short quote</div>\n      </blockquote></div>';
// '<div class="article-viewer-wrapper"><blockquote class="quote-long">\n        <div class="quote__text">long quote</div>\n        <div class="quote-caption">\n      <div class="quote-caption__line"></div>\n      <div class="quote-caption__text">caption</div>\n      </div>\n      </blockquote></div>';
// table
// '<div class="article-viewer-wrapper"><div class="table-wrapper">\n         <table>\n           <tbody>\n             <tr><th class="th_header"><div class="table-cell align-left">title 0</div></th><th class="th_header"><div class="table-cell align-center">title 1</div></th><th class="th_header"><div class="table-cell align-right">title 2</div></th><th class="th_header"><div class="table-cell align-left">title 3</div></th></tr><tr><td class=""><div class="table-cell align-left">cell 0</div></td><td class="" style="width: 180px"><div class="table-cell align-center">cell 1</div></td><td class=""><div class="table-cell align-right">cell 2</div></td><td class=""><div class="table-cell align-left">cell 3</div></td></tr><tr><td class="td_stripe"><div class="table-cell align-left">cell 4</div></td><td class="td_stripe"><div class="table-cell align-left">cell 5</div></td><td class="td_stripe"><div class="table-cell align-left"></div></td></tr>\n           </tbody>\n         </table>\n       </div></div>';

// header
// '<div class="article-viewer-wrapper"><div class="header-wrapper">\n        <div class="eyebrow-title">eyebrow title content</div>\n        <h1 class="header">header content</h1>\n      </div></div>';
// '<div class="article-viewer-wrapper"><div class="header-wrapper">\n        <h1 class="header">header content</h1>\n        <div class="footer-title">footer title content</div>\n      </div></div>';
// '<div class="article-viewer-wrapper"><div class="header-wrapper">\n        <div class="eyebrow-title">eyebrow title content</div>\n        <h1 class="header">header content</h1>\n        <div class="footer-title">footer title content</div>\n      </div></div>';

// list
// '<div class="article-viewer-wrapper"><div class="list-wrapper"><div class="list-item ">\n        <div class="list__item-order-prefix">1.</div>\n        <div class="list-label list-label__default" data-index="0">\n        label\n      </div>\n        <div class="list-item-text">\n        一个带着中文的很长的句子。一个带着中文的很长的句子。一个带着中文的很长的句子。一个带着中文的很长的句子。一个带着中文的很长的句子。一个带着中文的很长的句子。一个带着中文的很长的句子。一个带着中文的很长的句子。一个带着中文的很长的句子。\n      </div>\n      </div><div class="list-item ">\n        <div class="list__item-order-prefix">2.</div>\n        <div class="list-label list-label__default" data-index="0">\n        label\n      </div>\n        <div class="list-item-text">\n        list item\n      </div>\n      </div><div class="list-item list-indent-1">\n        <div class="list__item-order-prefix">2.1</div>\n        <div class="list-label list-label__green" data-index="1">\n        green\n      </div>\n        <div class="list-item-text">\n        list item\n      </div>\n      </div></div></div>';

const articleEl = document.getElementById("article");

articleEl.innerHTML = content;
// utils
const hideClass = "hide";

/**
 * toggleClass
 *
 * @memberof utils
 * @param {HTMLElement} element
 * @param {HTMLElement[]} elementList
 * @param {string} className
 */
const toggleClass = (element, elementList, className) => {
  for (let i = 0; i < elementList.length; i++) {
    const el = elementList[i];
    el.classList.remove(className);
  }

  element.classList.add(className);
};

/**
 * toggleElement display
 *
 * @memberof utils
 * @param {HTMLElement} element
 * @param {HTMLElement[]} elementList
 * @param {attr} "block" | "flex"
 */
const toggleElement = (element, elementList, attr = "block") => {
  _hideAll(elementList);
  _showEl(element, attr);
};

/**
 * hide all elements
 * @param {HTMLElement[]} elementList
 */
const _hideAll = (elementList) => {
  for (let i = 0; i < elementList.length; i++) {
    const el = elementList[i];
    if (!el.classList.contains(hideClass)) {
      el.classList.add(hideClass);
    }
  }
};

const _showEl = (el, attr = "block") => {
  el.classList.remove(hideClass);
  el.style.display = attr;
};

// utils end

// image block
const lightbox = GLightbox({ loop: true });

const galleryMiniImageClass = ".gallery-minimap-block-image";
const minimapImageEls = document.querySelectorAll(galleryMiniImageClass);

if (minimapImageEls.length > 0) {
  for (let i = 0; i < minimapImageEls.length; i++) {
    const miniImageEl = minimapImageEls[i];
    miniImageEl.addEventListener("click", function () {
      const targetIndex = miniImageEl.dataset.index;
      const mainImagesEl = miniImageEl.parentElement.previousElementSibling;

      const targetImageEl = mainImagesEl.querySelector(
        `[data-index="${targetIndex}"]`
      );

      if (!targetImageEl) return;

      targetImageEl.scrollIntoView({
        behavior: "smooth",
        inline: "center",
        block: "nearest",
      });
    });
  }
}

// people block
const peoplePreviewerClass = "gallery-previewer-item";
const peoplePreviewerItemActiveClass = "gallery-previewer-item-active";
const peopleCardClass = "gallery-card-wrapper";

const peoplePreviewerEls = document.querySelectorAll(
  "." + peoplePreviewerClass
);

if (peoplePreviewerEls.length > 0) {
  for (let i = 0; i < peoplePreviewerEls.length; i++) {
    const previewerEl = peoplePreviewerEls[i];
    previewerEl.addEventListener("click", function () {
      toggleClass(
        previewerEl,
        peoplePreviewerEls,
        peoplePreviewerItemActiveClass
      );

      const activeIndex = previewerEl.dataset.index;
      const WrapperEl = previewerEl.parentElement.parentElement;

      const ActiveCardEl = WrapperEl.querySelector(
        `.${peopleCardClass}[data-index="${activeIndex}"]`
      );

      const CardsElementsList = WrapperEl.querySelectorAll(
        "." + peopleCardClass
      );

      toggleElement(ActiveCardEl, CardsElementsList, "flex");
    });
  }
}
